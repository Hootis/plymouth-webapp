/*
 PSU behavior.js

 Copyright 2010 Plymouth State University
*/
$.root=$(document);$(function(){if(typeof HOST=="string"){var a=document.createElement("script");a.type="text/javascript";document.body.appendChild(a);a.src=HOST+"/webapp/my/js/konami.js"}typeof $.fn.dropDownMenu=="function"&&$(".webapp-nav ul:first").dropDownMenu({timer:500,parentMO:"parent-hover",childMO:"child-hover1"});$(".webapp-nav ul ul ul").parent().children("a").addClass("menu-expand");$.fn.tablesorter&&$("table.sortable").tablesorter()});
$("#return-to-top").live("click",function(a){a.preventDefault();$("html, body").animate({scrollTop:0},"fast")});$.psu=$.psu||{};(function(){this.psu={host:null};if(typeof HOST=="string")this.psu.host=HOST;else{this.psu.host=document.location.protocol+"//";this.psu.host+=".dev.plymouth.edu"==document.location.host.substr(-17)?"www.dev.plymouth.edu":"www.plymouth.edu"}})();
(function(a){function b(){for(var c={},d=[],e;node=i.shift();){e=a(node);var f=e.data("id");c[f]=typeof c[f]==="undefined"?e:c[f].add(e);d.push(f);if(d.length>=a.fn.psu_lazyload.settings.batch_count)break}d.length>0&&a.getJSON(a.fn.psu_lazyload.settings.endpoint,{id:d},g.bind(c))}function g(c){var d=this;h=setTimeout(b,0);a.each(c,function(e,f){var j=d[e];j.addClass("psu-lazyload-complete");j.find(".lazy-field").each(function(){var k=a(this),l=k.data("type");k.text(f[l])})})}var i=[],h=0;a.fn.psu_lazyload=
function(){if(false==a.fn.psu_lazyload.settings.endpoint)return this;return this.each(function(){if(!a(this).hasClass("psu-lazyload-complete")){i.push(this);if(0===h)h=setTimeout(b,500)}})};a.fn.psu_lazyload.settings={batch_count:20,endpoint:false};a(function(){a(".psu-lazyload").psu_lazyload()})})(jQuery);
$.psu.addMessage=function(a,b){var g=$("<li/>").text(a);switch(b){case "success":b="successes";break;case "warning":b="warnings";break;case "error":b="errors";break;default:b="messages"}$("#webapp-avant-body .message-"+b).find("ul").append(g).end().show()};window.log=function(){log.history=log.history||[];log.history.push(arguments);this.console&&console.log(Array.prototype.slice.call(arguments))};
